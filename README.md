# FastAPI Async REST API
Асинхронное веб-приложение для управления пользователями, счетами и платежами с эмуляцией webhook от платежной системы.

## Технологический стек

- **Backend:** FastAPI (Python)
- **База данных:** PostgreSQL
- **ORM:** SQLAlchemy (async)
- **Контейнеризация:** Docker & Docker Compose
- **Миграции:** Alembic

## Основные возможности

### Для пользователей:
- Авторизация по email/password
- Просмотр личных данных
- Просмотр списка счетов и балансов
- Просмотр истории платежей

### Для администраторов:
- Авторизация по email/password
- Управление пользователями (CRUD операции)
- Просмотр всех пользователей и их счетов

### Webhook для платежей:
- Обработка платежей от внешней системы
- Проверка подписи SHA256
- Автоматическое создание счетов
- Защита от дублирования транзакций

## Запуск проекта

### Вариант 1: С использованием Docker Compose

1. Клонируйте репозиторий
2. Убедитесь, что файл `.env` содержит необходимые переменные:
DB_HOST, DB_PORT, DB_USER, DB_PASS, DB_NAME, ALGORITHM(HS256), SECRET_KEY(gfdmhghif38yrf9ew0jkf32)
3. Запустите контейнеры: docker-compose up --build


### Вариант 2: Локальный запуск без Docker

1. Установите зависимости: pip install -r requirements.txt
2. Запустите PostgreSQL и создайте базу данных `dimatech_db`
3. Настройте переменные окружения в `.env` файле
4. Выполните миграции: alembic upgrade head
5. Запустите приложение: uvicorn app.main:app --reloada

## Тестовые учетные данные

### Администратор:
- **Email:** admin@example.com
- **Пароль:** admin123

### Тестовые пользователи:
- **Email:** user1@example.com
- **Пароль:** password123

- **Email:** user2@example.com
- **Пароль:** test456
